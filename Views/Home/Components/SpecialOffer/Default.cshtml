@model ViewSpecialOffer

<section class="special-offer section">
    <div class="container mx-auto sm:px-4">
        <div class="flex flex-wrap ">
            <div class="w-full">
                <div class="section-title">
                    <h2>Oferta especial</h2>
                    <p>Não perca nossas ofertas especiais em de lancamentos! Descubra uma variedade de pérolas musicais a preços irresistíveis.</p>
                </div>
            </div>
        </div>
        <div class="flex flex-wrap ">
            <div class="lg:w-2/3 px-4 md:w-full w-full">
                <div class="flex flex-wrap -mx-4">
                    @foreach (var Item in Model.Produtos)
                    {
                        <div class="lg:w-1/3 md:w-1/3 px-4 w-full">
                            <div class="single-product">
                                <div class="product-image">
                                    <img src="/img/images/products/@Item.Imagem" alt="...">
                                    <span class="holder">
                                    @if (Item.Tipo != "")
                                    {
                                        <span class="new-tag">@Item.Tipo.Capitalize()</span>
                                    }

                                    @if (Item.Desconto > 0)
                                    {
                                        <span class="sale-tag">-@Item.Desconto%</span>
                                    }
                                    </span>

                                    <div class="button flex gap-1">
                                        <a data-action="carrinho"
                                        data-tipo-produto="Item.TipoProduto.Capitalize()"
                                        data-tipo="Item.Tipo.Capitalize()"
                                        data-subcategoria="Item.Subcategoria.Capitalize()"
                                        data-imagem="Item.ImageSource"
                                        data-preco="Item.Preco"
                                        data-desconto="(Item.Desconto ? Item.CalculoDesconto : 0)"
                                        data-nome="Item.Nome.Capitalize()"
                                        data-qnt-compra="1"
                                        data-id-produto="Item.IdProduto"  class="btn !bg-[#130235] !text-white !flex !itens-center hover:!bg-[#372853]"><i class="fa-light fa-cart-circle-plus text-sm"></i> Carrinho</a>
                                        <a data-action="favoritos" data-favorito="false" data-id-produto="@Item.IdProduto" class="btn !w-fit !flex !itens-center"><i class="fa-solid fa-heart text-sm"></i></a>
                                    </div>
                                </div>
                                <div class="product-info">
                                    <span class="category">@Item.PreInfo</span>
                                    <h4 class="title">
                                        <a 
                                                    asp-action="Index"
                                                    asp-controller="ShopSingle"
                                                    asp-route-categoria="@Item.TipoProduto.ToLower()"
                                                    asp-route-subcategoria="@Item.Subcategoria.ToLower()"
                                                    asp-route-idproduto="@Item.IdProduto"
                                        >@Item.NomeProduto</a>
                                    </h4>
                                    <ul class="review">
                                        @for (var i = 0; i < 5; i++)
                                        {
                                            if (i <= Item.Nota)
                                            {
                                                <li><i class="fa-solid fa-star"></i></li>
                                            }
                                            else
                                            {
                                                <li><i class="fa-light fa-star"></i></li>
                                            }
                                        }
                                        <li><span>@Item.Nota Review(s)</span></li>
                                    </ul>
                                    <div class="price">
                                        @if (Item.Desconto > 0)
                                        {
                                            <span>@Item.PrecoDesconto</span>
                                            <span class="discount-price">@Item.PrecoOriginal</span>
                                        }
                                        else
                                        {
                                            <span>@Item.PrecoOriginal</span>
                                        }

                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>

                <div class="single-banner right" style="background-image:url('/img/images/banner/@Model.Banner.Imagem');margin-top: 30px;">
                    <div class="content">
                        <h2>@Model.Banner.Titulo</h2>
                        <p class="text-white infos">@Model.Banner.Texto</p>
                        <div class="price">
                            <span>@Model.Banner.PrecoOriginal</span>
                        </div>
                        <div class="button">
                            <a 
                            asp-action="Index"
                            asp-controller="ShopSingle"
                            asp-route-categoria="@Model.Banner.TipoProduto.ToLower()"
                            asp-route-subcategoria="@Model.Banner.Subcategoria.ToLower()"
                            asp-route-idproduto="@Model.Banner.IdProduto"
                             class="btn !ml-auto !w-fit !flex !text-gray-800 hover:!text-white">Compre agora</a>
                        </div>
                    </div>
                </div>

            </div>
            <div class="lg:w-1/3 px-4 md:w-full w-full">
                <div class="offer-content">
                    <div class="image">
                        <img src="~/img/images/offer/@Model.OfertaPrincipal.Imagem" alt="...">
                        <span class="sale-tag">-@Model.OfertaPrincipal.Desconto%</span>
                    </div>
                    <div class="text">
                        <h2><a 
                            asp-action="Index"
                            asp-controller="ShopSingle"
                            asp-route-categoria="@Model.OfertaPrincipal.TipoProduto.ToLower()"
                            asp-route-subcategoria="@Model.OfertaPrincipal.Subcategoria.ToLower()"
                            asp-route-idproduto="@Model.OfertaPrincipal.IdProduto"
                            >@Model.OfertaPrincipal.NomeProduto</a></h2>
                        <ul class="review">
                            @for (var i = 0; i < 5; i++)
                            {
                                if (i <= Model.OfertaPrincipal.Nota)
                                {
                                    <li><i class="fa-solid fa-star"></i></li>
                                }
                                else
                                {
                                    <li><i class="fa-light fa-star"></i></li>
                                }
                            }
                            <li><span>@Model.OfertaPrincipal.Nota Review(s)</span></li>
                        </ul>
                        <div class="price">
                            <span>@Model.OfertaPrincipal.PrecoDesconto</span>
                            <span class="discount-price">@Model.OfertaPrincipal.PrecoOriginal</span>
                        </div>
                        <p>
                            @Model.OfertaPrincipal.Texto
                        </p>
                    </div>
                    <div class="box-head">
                        <div class="box">
                            <h1 id="days">396</h1>
                            <h2 id="daystxt">Dias</h2>
                        </div>
                        <div class="box">
                            <h1 id="hours">22</h1>
                            <h2 id="hourstxt">Horas</h2>
                        </div>
                        <div class="box">
                            <h1 id="minutes">41</h1>
                            <h2 id="minutestxt">Minutos</h2>
                        </div>
                        <div class="box">
                            <h1 id="seconds">20</h1>
                            <h2 id="secondstxt">Segundos</h2>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>